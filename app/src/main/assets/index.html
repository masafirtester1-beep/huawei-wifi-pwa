<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Huawei WiFi Helper</title>
  <link rel="stylesheet" href="styles.css">
  <script src="app.js" defer></script>
</head>
<body>
  <h2>Huawei WiFi Helper</h2>

  <button onclick="checkConnection()">๐ ูุญุต ุงูุงุชุตุงู</button>
  <button onclick="getDevices()">๐ป ุนุฑุถ ุงูุฃุฌูุฒุฉ</button>

  <p id="devicesMsg">ุทูุจุช ูุงุฆูุฉ ุงูุฃุฌูุฒุฉ โ ูุฏ ุชุญุชุงุฌ ุชุนุฏูู ุงููุณุงุฑ ุญุณุจ ุงูุฑุงูุชุฑ.</p>

  <h3>ูุนูููุงุช ุงูุดุจูุฉ</h3>
  <p><strong>SSID:</strong> <span id="ssid">ุบูุฑ ูุชุงุญ</span></p>
  <p><strong>RSSI:</strong> <span id="rssi">ุบูุฑ ูุชุงุญ</span></p>
  <button onclick="requestPermissions()">ุทูุจ/ุชุญุฏูุซ ุงูุตูุงุญูุงุช</button>

  <h3>ุชุบููุฑ ูููุฉ ูุฑูุฑ ุงููุงู-ูุงู</h3>
  <label>ุงุณู ุงููุณุชุฎุฏู (Admin)</label>
  <input type="text" id="adminUser">
  <label>ูููุฉ ุงูุณุฑ (Admin)</label>
  <input type="password" id="adminPass">
  <label>ูููุฉ ุงูุณุฑ ุงูุฌุฏูุฏุฉ ููุดุจูุฉ</label>
  <input type="text" id="newWifiPass">

  <button onclick="saveCreds()">๐พ ุญูุธ ุจูุงูุงุช ุงููุฏูุฑ</button>
  <button onclick="changePassword()">๐ ุชุบููุฑ ูููุฉ ุงูุณุฑ</button>

  <p id="statusMsg"></p>
</body>
  
<script>
  window.onPermissionsUpdated = function(granted){
    // ุญุฏูุซ ุงููุงุฌูุฉ ุญุณุจ ุงููุชูุฌุฉ
    // ูุซูุง: ุฃุนุฏ ูุฑุงุกุฉ ูุนูููุงุช ุงูุดุจูุฉ
    if (granted) {
      const info = JSON.parse(Android.getWifiInfo());
      document.getElementById('ssid').textContent = info.ssid;
      document.getElementById('rssi').textContent = info.rssi;
    } else {
      alert('ุตูุงุญูุงุช ุงููููุน ูุฑููุถุฉ. ูุนูููุง ูุนุฑุถ SSID.');
    }
  };
</script>
